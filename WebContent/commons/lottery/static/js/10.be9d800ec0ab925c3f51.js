webpackJsonp([10],{HBgs:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("Dd8w"),a=i.n(s),r=i("HENB"),l=i("NYxO"),n=i("sZUt"),c=i.n(n),o=i("T452"),u=i("yBKP"),m=i("fdFc"),h={name:"electronic",data:function(){return{activeClass:"",noMore:!1,totalPages:"",imgBanner:c.a,require_list:{flat:"",code:"all",pageNo:1,pageSize:10,gameName:"",client:0,gameType:""},require_collection:{flat:"",userName:this.global_userName,client:0,gameCode:""},require_login:{userName:this.global_userName,flat:"",gameCode:""},currentIndex_flat:0,game_list:[],game_return_data:[],showNavIndex:0,curIndex:null,electronicGameTypeList:[]}},created:function(){this.$route.query.curIndex?(this.require_list.flat=this.$route.query.flatCode,this.requireGameList()):(this.require_list.flat=this.c_homeMenuList.electronic[0].flatCode,this.requireGameList()),this.electronicGameTypeList=this.formArrayList(this.electronicGameType[this.require_list.flat])},mounted:function(){this.$route.query.curIndex&&(this.curIndex=this.$route.query.curIndex,this.$refs.navList.querySelectorAll(".item")[this.curIndex].click())},beforeDestroy:function(){window.removeEventListener("scroll",this.handleScroll)},methods:{callPage:function(e){var t=this;this.game_list="",this.require_list.pageNo=e.currentPage,this.require_list.pageSize=e.pageLimit,Object(u.c)(this.require_list).then(function(e){e.errorCode==o.a&&(t.game_return_data=e.datas,t.game_list=e.datas.list)})},formArrayList:function(e){for(var t=[],i=0;i<e.length;i++)t[i]={eleType:e[i].eleType,eleTypeName:e[i].eleTypeName};return t.unshift({eleType:"",eleTypeName:"全部"}),t},goGame:function(e,t){if(this.require_login.userName=this.global_userName,""!=this.global_userName){this.require_login.gameCode=500,this.require_login.flat=e;var i=window.open(),s=document.createElement("span");i.window.document.body.appendChild(s),Object(u.d)(this.require_login).then(function(e){e.errorCode==o.a?i.location.href=e.datas:s.innerHTML=e.msg})}else this.$message(Object(m.d)("请登录"))},requireGameList:function(){var e=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.require_list.pageNo=1,Object(u.c)(this.require_list).then(function(t){t.errorCode==o.a&&(0==!t.datas.list.length?(e.game_list=t.datas.list,e.totalPages=t.datas.totalPages,e.game_return_data=t.datas,e.noMore=!1):e.noMore=!0,e.game_list=t.datas.list,e.totalPages=t.datas.totalPages,e.game_return_data=t.datas)}),this.require_list.gameType="",this.game_list=""},goFlatList:function(e,t){this.require_list.flat=e,this.currentIndex_flat=t,this.requireGameList()},choseGameList:function(e){this.activeClass="","favourite"!=e||""!=this.global_userName?(this.require_list.code=e,this.requireGameList()):this.$message(Object(m.d)("请登录"))},choseGameType:function(e){this.require_list.gameType=e,this.activeClass=e,this.requireGameList()},collection:function(e){var t=this;""!=this.global_userName?(this.require_collection.gameCode=e,this.require_collection.flat=this.require_list.flat,Object(u.b)(this.require_collection).then(function(e){e.errorCode==o.a?t.requireGameList():t.$message(Object(m.d)("请登录"))})):this.$message(Object(m.d)("请登录"))},openGame:function(e){if(""!=this.global_userName){this.require_login.gameCode=e,this.require_login.flat=this.require_list.flat;var t=window.open(),i=document.createElement("span");t.window.document.body.appendChild(i),Object(u.d)(this.require_login).then(function(e){e.errorCode==o.a?t.location.href=e.datas:i.innerHTML=e.msg})}else this.$message(Object(m.d)("请登录"))},switchGame:function(e,t,i){if(this.require_list.flat=i,this.showNavIndex!=t){for(var s=1,a=e.currentTarget.className.split(" "),r=0;r<a.length;r++)-1!=a[r].indexOf("position")&&(s=a[r].substr(-1));for(var l=this.$refs.navList.querySelectorAll(".item"),n=0;n<l.length;n++)for(var c=l[n].className.split(" "),o=0;o<c.length;o++)-1==c[o].indexOf("position_0")&&-1==c[o].indexOf("active")||(c[o]="",c.push("position_"+s),l[n].className=c.join(" "));for(var u=e.currentTarget.className.split(" "),m=0;m<u.length;m++)-1!=u[m].indexOf("position")&&(u[m]="");u.push("position_0 "),u.push("active "),e.currentTarget.className=u.join(" "),this.showNavIndex=t,this.require_list.code="all",this.require_list.gameName="";var h=this;setTimeout(function(){h.electronicGameTypeList=h.formArrayList(h.electronicGameType[h.require_list.flat]),h.requireGameList()},500)}},handleScroll:function(){var e=this;(document.documentElement.scrollTop||document.body.scrollTop)+(document.documentElement.clientHeight||document.body.clientHeight)==(document.documentElement.scrollHeight||document.body.scrollHeight)&&(1==this.require_list.pageNo&&(this.require_list.pageNo=2),this.require_list.pageNo==this.totalPages+1&&(this.noMore=!0),this.require_list.pageNo<this.totalPages+1&&Object(u.c)(this.require_list).then(function(t){t.errorCode==o.a&&(e.game_list=e.game_list.concat(t.datas.list),e.require_list.pageNo+=1)}))}},computed:a()({},Object(l.c)({c_homeMenuList:"c_homeMenuList",electronicGameType:"electronicGameType",global_userName:"global_userName"})),components:{PageOption:r.a},watch:{$route:function(){if(!this.$route.query.curIndex||this.curIndex!=this.$route.query.curIndex)if(this.$route.query.curIndex>=0){this.require_list.flat=this.$route.query.flatCode,this.requireGameList(this.require_list);for(var e=0;e<this.$refs.navList.querySelectorAll(".item").length;e++)-1!=this.$refs.navList.querySelectorAll(".item")[e].className.indexOf(this.require_list.flat)&&this.$refs.navList.querySelectorAll(".item")[e].click()}else this.require_list.flat=this.c_homeMenuList.electronic[0].flatCode,this.requireGameList()},c_homeMenuList:function(){this.c_homeMenuList&&(this.require_list.flat=this.c_homeMenuList.electronic[0].flatCode,this.electronicGameTypeList=this.formArrayList(this.electronicGameType[this.require_list.flat]),this.requireGameList())},electronicGameType:function(){this.electronicGameTypeList=this.formArrayList(this.electronicGameType[this.require_list.flat]),this.requireGameList()}}},d={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"electronic"},[i("div",{staticClass:"banner"},[i("div",{staticClass:"pageWidth"},[i("div",{staticClass:"wrap"},[i("div",{staticClass:"item ag",class:{active:0==e.showNavIndex}},[e._m(0)]),e._v(" "),i("div",{staticClass:"item bbin",class:{active:1==e.showNavIndex}},[e._m(1)]),e._v(" "),i("div",{staticClass:"item pt",class:{active:2==e.showNavIndex}},[e._m(2)]),e._v(" "),i("div",{staticClass:"item mg",class:{active:3==e.showNavIndex}},[e._m(3)])]),e._v(" "),i("div",{ref:"navList",staticClass:"nav"},e._l(e.c_homeMenuList.electronic,function(t,s){return i("div",{key:s,staticClass:"item",class:[t.flatCode+" position_"+s,{active:0==s}],on:{click:function(i){e.switchGame(i,s,t.flatCode)}}},[i("div",{staticClass:"inner"},[i("div",{staticClass:"shade"}),e._v(" "),i("div",{staticClass:"navContent"},[i("div",{staticClass:"icon",class:t.flatCode}),e._v(" "),i("h3",[e._v(e._s(t.flatName))]),e._v(" "),i("p",[e._v(e._s(t.remark))]),e._v(" "),"ag"==t.flatCode?i("div",{staticClass:"btn",on:{click:function(i){i.stopPropagation(),e.goGame(t.flatCode,t.gameCode)}}},[e._v("开始游戏")]):e._e()])])])}))])]),e._v(" "),i("div",{staticClass:"content"},[i("div",{staticClass:"gamesBox pageWidth"},[i("div",{staticClass:"game_class"},[i("ul",{},[i("li",[i("div",{staticClass:"gameTypeFirstL1",class:{active:"all"==e.require_list.code},on:{click:function(t){e.choseGameList("all")}}},[e._v("全部游戏")])]),e._v(" "),i("li",[i("div",{staticClass:"gameTypeFirstL1",class:{active:"hot"==e.require_list.code},on:{click:function(t){e.choseGameList("hot")}}},[e._v("热门游戏")])]),e._v(" "),i("li",[i("div",{staticClass:"gameTypeFirstL1",class:{active:"new"==e.require_list.code},on:{click:function(t){e.choseGameList("new")}}},[e._v("最新游戏")])]),e._v(" "),i("li",{staticClass:"gameTypeL2"},[i("div",{staticClass:"gameTypeFirstL1"},[e._v("游戏类型")]),e._v(" "),i("div",{staticClass:"gameType"},e._l(e.electronicGameTypeList,function(t,s){return i("div",{key:s,staticClass:"item",class:{active:e.activeClass==t.eleType},on:{click:function(i){e.choseGameType(t.eleType)}}},[e._v(e._s(t.eleTypeName))])}))]),e._v(" "),i("li",[i("div",{staticClass:"gameTypeFirstL1",class:{active:"favourite"==e.require_list.code},on:{click:function(t){e.choseGameList("favourite")}}},[e._v("我的收藏")])])]),e._v(" "),i("div",{staticClass:"search"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.require_list.gameName,expression:"require_list.gameName"}],attrs:{type:"text",placeholder:"搜索游戏"},domProps:{value:e.require_list.gameName},on:{input:function(t){t.target.composing||e.$set(e.require_list,"gameName",t.target.value)}}}),e._v(" "),i("div",{staticClass:"btn fl",on:{click:function(t){e.requireGameList()}}})])]),e._v(" "),i("div",{staticClass:"game_list",class:e.require_list.flat},[i("ul",e._l(e.game_list,function(t,s){return i("li",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],key:s},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.img,expression:"item.img"}],staticClass:"gameImg",attrs:{alt:""}}),e._v(" "),i("div",{staticClass:"name"},[i("p",[e._v(e._s(t.cnName))]),e._v(" "),i("span",{class:{collectionYet:t.havourite},on:{click:function(i){e.collection(t.gameCode)}}})]),e._v(" "),i("div",{staticClass:"goGame",on:{click:function(i){e.openGame(t.gameCode)}}},[i("span",[e._v("开始游戏")])])])})),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.noMore,expression:"noMore"}],staticClass:"noMoreGame"},[e._v("没有更多游戏了")])]),e._v(" "),i("div",{staticClass:"pageSwitch"},[i("PageOption",{attrs:{totalNumber:e.game_return_data.totalRows,totalPage:e.game_return_data.totalPages,curPage:e.game_return_data.currentPage},on:{callPage:e.callPage}})],1)])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"ele ele_1"},[t("img",{attrs:{src:i("mNv/"),alt:""}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"ele ele_1"},[t("img",{attrs:{src:i("d8Fy"),alt:""}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"ele ele_1"},[t("img",{attrs:{src:i("yLHf"),alt:""}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"ele ele_1"},[t("img",{attrs:{src:i("h+t3"),alt:""}})])}]};var _=i("VU/8")(h,d,!1,function(e){i("J7Mm")},"data-v-ae8c1214",null);t.default=_.exports},J7Mm:function(e,t){},d8Fy:function(e,t,i){e.exports=i.p+"static/img/bbin_ele.233aa48.png"},"h+t3":function(e,t,i){e.exports=i.p+"static/img/mg_ele.7dec144.png"},"mNv/":function(e,t,i){e.exports=i.p+"static/img/ag_ele.5b476ed.png"},sZUt:function(e,t,i){e.exports=i.p+"static/img/banner.1131073.png"},yLHf:function(e,t,i){e.exports=i.p+"static/img/pt_ele.cda4719.png"}});